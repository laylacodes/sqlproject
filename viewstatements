--view1
DROP VIEW1;
CLEAR COMPUTE
CLEAR BREAK
TTITLE OFF
SET FEEDBACK OFF
SET Pagesize 75
SET Linesize 100
TTITLE "VIEW1"

CREATE VIEW View1 AS
SELECT Flight_NBR, 
Flight_Date, 
Capacity - COUNT(Cust_nbr) AS Seats_Available
FROM Reservation
JOIN Sched_Flight using (Flight_NBR, Flight_Date)
JOIN Aircraft_Type using (Serial_nbr)
JOIN Aircraft_Data using (Ad_type)
Group by Flight_NBR, Flight_date, capacity;
SELECT * FROM VIEW1;

--view2
DROP VIEW2;
CLEAR COMPUTE
CLEAR BREAK
TTITLE OFF
SET FEEDBACK OFF
SET Pagesize 75
SET Linesize 100
TTITLE OFF

TTITLE "VIEW 2"

CREATE VIEW View2 AS
SELECT DISTINCT fd.Dep_Aprt_Code, 
res.Flight_Nbr, 
res.Flight_Date, 
res.Cust_Nbr,
aprt.aprt_code
FROM Sched_Flight sf
JOIN Reservation res ON res.flight_nbr = sf.flight_nbr
JOIN flight_data fd ON res.flight_nbr = fd.flight_nbr
JOIN airport aprt ON fd.dep_aprt_code = aprt.aprt_code
JOIN city c ON c.city_code = aprt.city_code,
ORDER BY dep_aprt_code, flight_nbr, flight_date, cust_nbr;

LEFT JOIN Reservation using (Flight_Nbr, Flight_Date)
JOIN Flight_Data using (Flight_Nbr)
ORDER BY Dep_aprt_code, flight_nbr;
SELECT * FROM VIEW2;
